@import 'tailwindcss';

@plugin 'tailwindcss-animate';

@source '../views';
@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';

@custom-variant dark (&:is(.dark *));

@theme {
    --font-sans:
        'Instrument Sans', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';

    --radius-lg: var(--radius);
    --radius-md: calc(var(--radius) - 2px);
    --radius-sm: calc(var(--radius) - 4px);

    --color-background: var(--background);
    --color-foreground: var(--foreground);

    --color-card: var(--card);
    --color-card-foreground: var(--card-foreground);

    --color-popover: var(--popover);
    --color-popover-foreground: var(--popover-foreground);

    --color-primary: var(--primary);
    --color-primary-foreground: var(--primary-foreground);

    --color-secondary: var(--secondary);
    --color-secondary-foreground: var(--secondary-foreground);

    --color-muted: var(--muted);
    --color-muted-foreground: var(--muted-foreground);

    --color-accent: var(--accent);
    --color-accent-foreground: var(--accent-foreground);

    --color-destructive: var(--destructive);
    --color-destructive-foreground: var(--destructive-foreground);

    --color-border: var(--border);
    --color-input: var(--input);
    --color-ring: var(--ring);

    --color-chart-1: var(--chart-1);
    --color-chart-2: var(--chart-2);
    --color-chart-3: var(--chart-3);
    --color-chart-4: var(--chart-4);
    --color-chart-5: var(--chart-5);

    --color-sidebar: var(--sidebar);
    --color-sidebar-foreground: var(--sidebar-foreground);
    --color-sidebar-primary: var(--sidebar-primary);
    --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
    --color-sidebar-accent: var(--sidebar-accent);
    --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
    --color-sidebar-border: var(--sidebar-border);
    --color-sidebar-ring: var(--sidebar-ring);
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
    *,
    ::after,
    ::before,
    ::backdrop,
    ::file-selector-button {
        border-color: var(--color-gray-200, currentColor);
    }
}

:root {
    --background: oklch(0.99 0.01 100); /* Off-white */
    --foreground: oklch(0.15 0.01 240); /* Near black */

    --card: oklch(1 0 0);
    --card-foreground: oklch(0.15 0.01 240);

    --popover: oklch(0.99 0.01 100);
    --popover-foreground: oklch(0.15 0.01 240);

    --primary: oklch(0.55 0.25 250); /* Vibrant blue */
    --primary-foreground: oklch(0.99 0.02 100); /* Near-white */

    --secondary: oklch(0.92 0.05 280); /* Light purple */
    --secondary-foreground: oklch(0.2 0.02 240); /* Dark text */

    --muted: oklch(0.94 0.02 270); /* Light muted lavender */
    --muted-foreground: oklch(0.5 0.02 240);

    --accent: oklch(0.9 0.15 60); /* Soft amber */
    --accent-foreground: oklch(0.25 0.03 40);

    --destructive: oklch(0.55 0.25 30); /* Bright red */
    --destructive-foreground: oklch(0.98 0.01 100);

    --border: oklch(0.87 0.01 250);
    --input: oklch(0.94 0.01 250);
    --ring: oklch(0.75 0.1 260);

    --chart-1: oklch(0.65 0.22 250);
    --chart-2: oklch(0.62 0.19 160);
    --chart-3: oklch(0.58 0.2 50);
    --chart-4: oklch(0.72 0.22 300);
    --chart-5: oklch(0.75 0.18 120);

    --radius: 0.625rem;

    --sidebar: oklch(0.97 0.01 100);
    --sidebar-foreground: oklch(0.2 0.01 240);
    --sidebar-primary: var(--primary);
    --sidebar-primary-foreground: var(--primary-foreground);
    --sidebar-accent: var(--accent);
    --sidebar-accent-foreground: var(--accent-foreground);
    --sidebar-border: var(--border);
    --sidebar-ring: var(--ring);
}

.dark {
    --background: oklch(0.17 0.02 240); /* Very dark navy */
    --foreground: oklch(0.98 0.02 100); /* Near white */

    --card: oklch(0.2 0.02 240);
    --card-foreground: oklch(0.98 0.02 100);

    --popover: oklch(0.2 0.02 240);
    --popover-foreground: oklch(0.98 0.02 100);

    --primary: oklch(0.75 0.25 250); /* Brightened for dark */
    --primary-foreground: oklch(0.15 0.02 240);

    --secondary: oklch(0.4 0.05 270);
    --secondary-foreground: oklch(0.98 0.02 100);

    --muted: oklch(0.28 0.01 260);
    --muted-foreground: oklch(0.75 0.01 240);

    --accent: oklch(0.45 0.15 70);
    --accent-foreground: oklch(0.98 0.02 100);

    --destructive: oklch(0.45 0.25 30);
    --destructive-foreground: oklch(0.98 0.01 100);

    --border: oklch(0.3 0.01 240);
    --input: oklch(0.3 0.01 240);
    --ring: oklch(0.5 0.08 260);

    --chart-1: oklch(0.72 0.25 260);
    --chart-2: oklch(0.69 0.23 150);
    --chart-3: oklch(0.66 0.22 40);
    --chart-4: oklch(0.74 0.24 300);
    --chart-5: oklch(0.71 0.20 100);

    --sidebar: oklch(0.22 0.01 240);
    --sidebar-foreground: oklch(0.98 0.01 100);
    --sidebar-primary: var(--primary);
    --sidebar-primary-foreground: var(--primary-foreground);
    --sidebar-accent: var(--accent);
    --sidebar-accent-foreground: var(--accent-foreground);
    --sidebar-border: var(--border);
    --sidebar-ring: var(--ring);
}

@layer base {
    * {
        @apply border-border;
    }

    body {
        @apply bg-background text-foreground;
    }
}

@layer components {
  .rich-text {
    /* Base typography without @tailwindcss/typography */
    line-height: 1.7;
    font-size: 0.95rem;
    max-width: 100%;
  }

  .rich-text h1 { @apply text-3xl font-bold mt-4 mb-2; }
  .rich-text h2 { @apply text-2xl font-semibold mt-4 mb-2; }
  .rich-text h3 { @apply text-xl font-semibold mt-3 mb-2; }

  .rich-text p { @apply my-2 leading-relaxed; }

  .rich-text a { @apply text-primary underline underline-offset-2 hover:opacity-80; }

  .rich-text blockquote {
    @apply border-l-4 pl-4 italic text-muted-foreground my-3;
  }

  .rich-text code {
    @apply bg-muted px-1 py-0.5 rounded text-sm font-mono;
  }
  .rich-text pre {
    @apply bg-muted p-3 rounded overflow-x-auto my-3;
  }
  .rich-text pre code {
    @apply bg-transparent p-0; /* avoid double background */
  }

  .rich-text ul { @apply list-disc pl-6 my-2; }
  .rich-text ol { @apply list-decimal pl-6 my-2; }
  .rich-text li { @apply my-1; }

  .rich-text hr { @apply my-4 border-border; }

  .rich-text img { @apply max-w-full h-auto my-2 rounded; }
}
