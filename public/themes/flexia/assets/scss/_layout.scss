@use 'mixins' as *;

/* Layout */
.site-header{ position: sticky; top: 0; z-index: 100; background: var(--surface); border-bottom: 1px solid color-mix(in lab, var(--text) 10%, transparent); }
.header-inner{ display:flex; align-items:center; justify-content:space-between; gap: var(--space-md); padding: var(--space-md) 0; min-width: 0; }
.brand{ font-weight: 800; letter-spacing: -0.02em; white-space: nowrap; flex: 0 0 auto; max-width: 50%; overflow: hidden; text-overflow: ellipsis; }

.site-nav{ display:flex; align-items:center; gap: var(--space-md); flex-wrap: nowrap; margin-left: auto; flex: 0 1 auto; }
.site-nav .menu{ display:flex; gap: var(--space-sm); align-items: center; flex: 0 1 auto; }
.site-nav .auth-actions{ display:inline-flex; align-items:center; gap: var(--space-sm); margin-left: var(--space-md); }
.site-nav .theme-toggle{ margin-left: 0; }
.nav-toggle{ display: none; }

.theme-toggle{ display:inline-flex; align-items:center; justify-content:center; gap: .25rem; padding: .375rem .625rem; border-radius: var(--radius-pill); border: 1px solid color-mix(in lab, var(--text) 12%, transparent); background: color-mix(in lab, var(--surface) 92%, var(--text) 8%); color: var(--text); cursor: pointer; margin-left: auto; }
.theme-toggle:hover{ background: color-mix(in lab, var(--surface) 88%, var(--text) 12%); }

@include mq(sm){
  .container{ padding-inline: 1rem; }
}
@include mq(md){
  .container{ padding-inline: 1rem; }
}

@media (max-width: 42rem){
  .site-header{ position: sticky; }
  .header-inner{ position: relative; }
  .nav-toggle{ display:inline-flex; }
  .site-nav{ position: relative; }
  .site-nav .menu{
    position: absolute;
    top: 100%;
    right: 0;
    left: 0;
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    background: var(--surface);
    border-bottom: 1px solid color-mix(in lab, var(--text) 10%, transparent);
    padding: 0 var(--space-md);
    max-height: 0;
    overflow: hidden;
    opacity: 0;
    transition: max-height 220ms ease, opacity 200ms ease, padding 200ms ease;
    z-index: 99;
  }
  .site-nav .auth-actions{ margin-left: 0; }
  .site-nav[aria-expanded="true"] .menu{
    padding: var(--space-sm) var(--space-md) var(--space-md);
    max-height: 60vh;
    opacity: 1;
  }
  body.nav-open{ overflow: hidden; }
}

main#main{ padding-block: var(--space-2xl) var(--space-xl); }

.site-footer{ background: var(--surface); margin-top: var(--space-2xl); border-top: 1px solid color-mix(in lab, var(--text) 10%, transparent); }
.footer-inner{ padding-block: var(--space-lg); display:flex; align-items:center; justify-content:space-between; gap: var(--space-md); flex-wrap: wrap; }

